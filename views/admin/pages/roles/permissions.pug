extends ../../layouts/default.pug 
include ../../mixins/alter.pug
block main 
    if(role.permissions.includes("roles_permission"))
        +alterSuccess(3000)
        +alterError(3000)
        h1(class='mb-4') Phân quyền

        div(class='text-right')
            button(
                type='submit'
                class='btn btn-primary mb-3'
                button-submit
            ) Update 

        div(data-record=data)
        table(
            class='table table-hover table-sm'
            table-permissions
        )
            thead   
                tr
                    th Feature
                    each item in data
                        th(class='text-center ') #{item.title}

                tbody 
                    tr(data-name='id' class='d-none')
                        td
                            each item in data 
                                td(class='text-center')
                                    input(type='text' value=item.id)
                    //- Products category 
                    tr  
                        td(colspan='4')
                            b Products category 
                    tr(data-name='products-category_view')
                        td View
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')

                    tr(data-name='products-category_create')
                        td Create
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')


                    tr(data-name='products-category_edit')
                        td Edit
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')
    

                    tr(data-name='products-category_update')
                        td Delete
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')

                    //- Products 
                    tr  
                        td(colspan='4')
                            b Products  
                    tr(data-name='products_view')
                        td View
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')

                    tr(data-name='products_create')
                        td Create
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')


                    tr(data-name='products_edit')
                        td Edit
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')
    

                    tr(data-name='products_update')
                        td Delete
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')

                    //- Permission 
                    tr  
                        td(colspan='4')
                            b Permissions
                    tr(data-name='roles_view')
                        td View
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')

                    tr(data-name='roles_create')
                        td Create
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')


                    tr(data-name='roles_edit')
                        td Edit
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')
    

                    tr(data-name='roles_update')
                        td Delete
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')

                    tr(data-name='roles_permission')
                        td Permission
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')


                    //- Accounts
                    tr  
                        td(colspan='4')
                            b Accounts
                    tr(data-name='account_view')
                        td View
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')

                    tr(data-name='account_create')
                        td Create
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')


                    tr(data-name='account_edit')
                        td Edit
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')
    

                    tr(data-name='account_update')
                        td Delete
                        each item in data 
                            td(class='text-center')
                                input(type='checkbox')


        form(
            id='form-change-permissions'
            method="POST"
            action = `/${prefixAdmin}/roles/permissions?_method=PATCH`
        ) 
            div(class='form-group')
                input(
                    type='text '
                    class='form-control d-none'
                    name='permissionsInput'
                )
        script(src="/admin/js/role.js") 
